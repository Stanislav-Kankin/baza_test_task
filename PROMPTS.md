2026-02-26 12:45 MSK

Контекст: уже есть модели, миграции, seed и слой бизнес-логики RequestService.
Нужно подключить бизнес-логику к HTTP (FastAPI), чтобы можно было дергать действия по ТЗ и потом писать автотесты/проверку гонки.

Прошу:
1) Предложить минимальный набор API-эндпоинтов для операций:
   - создать заявку (new)
   - назначить мастера (assigned)
   - отменить (canceled)
   - мастер: взять в работу (assigned → in_progress) с защитой от гонки
   - мастер: завершить (in_progress → done)
2) Показать как правильно подключить роутер в FastAPI (include_router).
3) Разнести код по файлам (app/routers/...) без усложнений.
4) Дать примеры команд для быстрой ручной проверки (PowerShell/curl.exe).

